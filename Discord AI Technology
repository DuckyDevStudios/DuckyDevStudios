import discord
import os
import openai

# Set up your OpenAI API key
openai.api_key = "your_openai_api_key_here"

# Initialize your Discord client
client = discord.Client()

# Event: When the bot is ready
@client.event
async def on_ready():
    print(f'We have logged in as {client.user}')

# Event: When the bot receives a message
@client.event
async def on_message(message):
    # Ignore messages from the bot itself
    if message.author == client.user:
        return
    
    # Process the message with AI
    if message.content.startswith('!ask'):
        question = message.content[5:]  # Extract the question from the message
        
        # Call OpenAI's GPT-3 model to generate a response
        response = openai.Completion.create(
            engine="text-davinci-002",  # Specify the GPT-3 engine
            prompt=question, 
            max_tokens=50  # Specify the maximum number of tokens in the response
        )
        
        await message.channel.send(response.choices[0].text.strip())  # Send the AI-generated response

# Run the Discord bot
client.run('your_discord_bot_token_here')
